{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <title>Razpored</title>
    <base href="http://{{ request.get_host }}/"/>
</head>
<body>
<div class="bg">
    <div class="d-flex p-3 justify-content-center">
        <div class="pt-5 p-2">
            <div class="list-group">
                <button type="button" class="btn btn-light btn-lg" disabled>
                    Lige:
                </button>
                <a href="fixtures/1/" role="button" class="btn btn-secondary btn-lg">Liga 1</a>
                <a href="fixtures/2/" role="button" class="btn btn-secondary btn-lg">Liga 2</a>
                <a href="fixtures/3/" role="button" class="btn btn-secondary btn-lg">Liga 3</a>
                <a href="fixtures/4/" role="button" class="btn btn-secondary btn-lg">Liga 4</a>
            </div>
        </div>
        <div>
            {% for league, rounds_list in rounds.items %}
                <div class="shadow p-3 mb-5 bg-light rounded">
                    <h2>Liga {{ league|slice:"-1:" }}</h2>
                    {% for r in rounds_list %}
                        <div class="shadow p-3 mb-5 bg-white rounded">
                            {% for key, match_list in matches.items %}
                                {# todo: get by key (maybe some method in python) #}
                                {% if key == r.id %}
                                    <h4>{{ r }}</h4>
                                    <p>{{ r.date }}</p>
                                    <table class="table table-striped">
                                        <tbody>
                                        {% for match in match_list %}
                                            <tr>
                                                <td style="width: 5%">{{ match.time|date:'H:i' }}</td>
                                                <td class="text-right" style="width: 30%">{{ match.first_team }}</td>
                                                <td class="text-center" style="width: 20px">{{ match.first_team_score }}
                                                    - {{ match.second_team_score }}</td>
                                                <td style="width: 30%">{{ match.second_team }}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                {% endif %}
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
        <div class="pl-1">
            <div class="shadow p-2 shadow bg-light rounded">
                <h3>Lestvica:</h3>
                <table class="table table-sm">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Ekipa</th>
                        <th scope="col">GP</th>
                        <th scope="col">PTS</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for row in table_rows %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ row.team }}</td>
                            <td>{{ row.match_played }}</td>
                            <td>{{ row.points }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>